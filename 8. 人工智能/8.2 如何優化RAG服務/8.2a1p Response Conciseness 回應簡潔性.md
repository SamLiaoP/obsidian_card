## LLM as a judge  

## Required
- User Input -> Question
- LLM Output -> Response

## 描述
**回應簡潔性**用於評估生成的回應是否僅包含回答問題所需的資訊，並且沒有添加任何無關的資訊。此分數檢查回應內容是否緊扣問題主題，避免偏離主題的冗餘訊息。**回應簡潔性分數**越高，表示回應越簡潔。

## 計算方法
回應簡潔性通過以下三種情況進行判斷：
1. **大量額外無關資訊**：若回應完全偏離問題主題並提供無關資訊，則分數較低。
2. **少量額外無關資訊**：若回應包含少許偏離主題的訊息，則分數中等。
3. **無額外無關資訊**：若回應專注於回答問題且無多餘訊息，則分數較高。

## 程式碼
```python
from uptrain import EvalLLM, Evals

# 插入您的 OpenAI API 密鑰
OPENAI_API_KEY = "sk-********************"

data = [{
    "question": "What are the primary components of a cell?",
    "response": "The primary components of a cell are crucial for its function. Speaking of components, the integration of software components in modern applications is a key challenge for developers. It requires careful consideration of architectural patterns and design principles."
}]

# 初始化回應簡潔性評估
eval_llm = EvalLLM(openai_api_key=OPENAI_API_KEY)

# 計算回應簡潔性分數
res = eval_llm.evaluate(
    data = data,
    checks = [Evals.RESPONSE_CONCISENESS]
)

print(res)
```

範例輸出：
```json
[
   {
      "score_response_conciseness": 0.0,
      "explanation_response_conciseness": "The LLM response contains a lot of additional irrelevant information because it completely deviates from the user query about the primary components of a cell. Instead of providing relevant information about cell components, the response talks about software integration, architectural patterns, and design principles, which are not related to the user query at all. This additional information is not needed to answer the user's question and only serves to confuse and distract from the main topic."
   }
]
```

在這個範例中，回應包含與問題無關的資訊，因此得到了較低的簡潔性分數。

## 參考資料：
https://docs.uptrain.ai/predefined-evaluations/response-quality/response-conciseness